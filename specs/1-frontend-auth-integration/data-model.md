# Data Model: Frontend UI + Better Auth Integration

## Frontend Data Models

### Task Model
```typescript
interface Task {
  id: number;              // Unique identifier for the task (auto-generated)
  user_id: number;         // ID of the user who owns this task
  title: string;           // Task title (required, max 255 characters)
  description?: string;    // Optional task description
  completed: boolean;      // Completion status (default: false)
  created_at: string;      // ISO date string when task was created
  updated_at: string;      // ISO date string when task was last updated
}
```

**Validation Rules:**
- `id`: Positive integer, auto-generated by backend
- `user_id`: Positive integer, matches authenticated user's ID
- `title`: Required string, 1-255 characters
- `description`: Optional string, max 1000 characters
- `completed`: Boolean value (true/false)
- `created_at`: ISO 8601 formatted date string, read-only
- `updated_at`: ISO 8601 formatted date string, read-only

### User Model (from Better Auth)
```typescript
interface User {
  id: number;              // Unique user identifier
  email: string;           // User's email address
  // Additional fields provided by Better Auth
}
```

### API Request/Response Models

#### Create Task Request
```typescript
interface CreateTaskRequest {
  title: string;           // Task title (required)
  description?: string;    // Optional task description
  completed?: boolean;     // Completion status (default: false)
}
```

#### Update Task Request
```typescript
interface UpdateTaskRequest {
  title?: string;          // Updated task title (optional)
  description?: string;    // Updated task description (optional)
  completed?: boolean;     // Updated completion status (optional)
}
```

#### Toggle Completion Request
```typescript
interface ToggleCompletionRequest {
  completed: boolean;      // New completion status
}
```

#### API Response Wrapper
```typescript
interface ApiResponse<T> {
  success: boolean;        // Whether the request was successful
  data?: T;               // Response data (present on success)
  message?: string;       // Optional success message
  error?: {
    code: string;         // Error code
    message: string;      // Human-readable error message
    details?: any;        // Optional error details
  };                      // Error information (present on failure)
}
```

## State Management Models

### Authentication State
```typescript
type AuthState = {
  user: User | null;       // Currently authenticated user
  isLoading: boolean;      // Whether auth state is being determined
  isAuthenticated: boolean; // Whether user is authenticated
}
```

### Task State
```typescript
type TaskState = {
  tasks: Task[];           // Current list of tasks
  loading: boolean;        // Whether tasks are being loaded
  error: string | null;    // Any error that occurred
  filter: 'all' | 'active' | 'completed'; // Current filter
}
```

### Form State Models

#### Login Form
```typescript
interface LoginFormState {
  email: string;           // User's email address
  password: string;        // User's password
  error: string | null;    // Any form error
  loading: boolean;        // Whether login is in progress
}
```

#### Register Form
```typescript
interface RegisterFormState {
  email: string;           // User's email address
  password: string;        // User's password
  confirmPassword: string; // Password confirmation
  error: string | null;    // Any form error
  loading: boolean;        // Whether registration is in progress
}
```

#### Task Form
```typescript
interface TaskFormState {
  title: string;           // Task title
  description: string;     // Task description
  completed: boolean;      // Completion status
  error: string | null;    // Any form error
  loading: boolean;        // Whether form submission is in progress
}
```

## Component Props Models

### TaskCard Props
```typescript
interface TaskCardProps {
  task: Task;              // Task to display
  onToggleComplete?: (id: number, completed: boolean) => void; // Completion toggle handler
  onEdit?: (id: number) => void; // Edit handler
  onDelete?: (id: number) => void; // Delete handler
}
```

### TaskList Props
```typescript
interface TaskListProps {
  tasks: Task[];           // Array of tasks to display
  onToggleComplete?: (id: number, completed: boolean) => void; // Completion toggle handler
  onEdit?: (id: number) => void; // Edit handler
  onDelete?: (id: number) => void; // Delete handler
  filter?: 'all' | 'active' | 'completed'; // Current filter
  onFilterChange?: (filter: 'all' | 'active' | 'completed') => void; // Filter change handler
}
```

### API Client Configuration
```typescript
interface ApiClientConfig {
  baseUrl: string;         // Base URL for API requests
  defaultHeaders?: Record<string, string>; // Default headers to include
  timeout?: number;        // Request timeout in milliseconds
}
```

## Validation Models

### Task Validation Rules
```typescript
const TaskValidationRules = {
  title: {
    required: true,
    minLength: 1,
    maxLength: 255,
    message: "Title must be between 1 and 255 characters"
  },
  description: {
    required: false,
    maxLength: 1000,
    message: "Description must be less than 1000 characters"
  }
};
```

### Form Validation Results
```typescript
interface ValidationResults {
  isValid: boolean;        // Whether all validations passed
  errors: Record<string, string>; // Field-specific error messages
}
```